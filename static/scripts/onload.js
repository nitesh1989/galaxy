define("onload",["layout/panel","layout/modal","utils/async-save-text","ui/popupmenu","ui/autocom_tagging","mvc/tours","utils/query-string-parsing"],function(e,t,n,a,o,i,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){function a(e){var t={placeholder:"Click to select",closeOnSelect:!$(e).is("[MULTIPLE]"),dropdownAutoWidth:!0,containerCssClass:"select2-minwidth"};return e.select2(t)}jQuery.fn.select2&&(void 0===e&&(e=20),void 0===t&&(t=3e3),(n=n||$("select")).each(function(){var n=$(this).not("[multiple]"),o=n.find("option").length;o<e||o>t||n.hasClass("no-autocomplete")||a(n)}))}function c(){$("select[refresh_on_change='true']").off("change").change(function(){var e=$(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var a=e.attr("last_selected_value");if(-1===$.inArray(t,n)&&-1===$.inArray(a,n))return}$(window).trigger("refresh_on_change"),$(document).trigger("convert_to_values"),e.get(0).form.submit()}),$(":checkbox[refresh_on_change='true']").off("click").click(function(){var e=$(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var a=e.attr("last_selected_value");if(-1===$.inArray(t,n)&&-1===$.inArray(a,n))return}$(window).trigger("refresh_on_change"),e.get(0).form.submit()}),$("a[confirm]").off("click").click(function(){return confirm($(this).attr("confirm"))})}var l=s(e),f=s(t),d=s(n),p=s(a),h=s(o),w=s(i);s(r);window.jQuery=jQuery,window.$=jQuery,window._=_,window.Backbone=Backbone,window.panels=l.default,_.extend(window,f.default),window.async_save_text=d.default,window.make_popupmenu=p.default.make_popupmenu,window.make_popup_menus=p.default.make_popup_menus,window.init_tag_click_function=h.default,window.init_refresh_on_change=c,$(document).ready(function(){function e(){void 0!==Galaxy.root?$.getJSON(Galaxy.root+"api/webhooks/onload/all",function(e){_.each(e,function(e){e.activate&&e.script&&($("<script/>",{type:"text/javascript"}).text(e.script).appendTo("head"),$("<style/>",{type:"text/css"}).text(e.styles).appendTo("head"))})}):setTimeout(e,100)}c(),$.fn.tooltip&&($(".unified-panel-header [title]").tooltip({placement:"bottom"}),$("[title]").tooltip()),make_popup_menus(),u(20,1500),$("a").click(function(){var e=$(this),t=parent.frames&&parent.frames.galaxy_main;if("galaxy_main"==e.attr("target")&&!t){var n=e.attr("href");-1==n.indexOf("?")?n+="?":n+="&",n+="use_panels=True",e.attr("href",n),e.attr("target","_self")}return e});var t=JSON.parse(sessionStorage.getItem("activeGalaxyTour"));if(t&&(t=w.default.hooked_tour_from_data(t))&&t.steps&&window&&window.self===window.top){var n=new Tour(_.extend({steps:t.steps},w.default.tour_opts));n.init(),n.restart()}e()})});
//# sourceMappingURL=../maps/onload.js.map
