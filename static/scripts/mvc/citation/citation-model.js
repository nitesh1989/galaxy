define("mvc/citation/citation-model",["exports","libs/bibtex","mvc/base-mvc","utils/localization"],function(t,e,i,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(e),a=o(i);o(n);_.extend(r.ENTRY_TYPES_,{online:998,data:999});var l=Backbone.Model.extend(a.default.LoggableMixin).extend({_logNamespace:"citation",defaults:{content:""},initialize:function(){var t;try{t=r(this.attributes.content)}catch(t){return}if(t.errors.length){var e=t.errors.reduce(function(t,e){return t+"; "+e});this.log("Error parsing bibtex: "+e)}if(this._fields={},this.entry=_.first(t.entries),this.entry){var i=this.entry.Fields;for(var n in i){var o=i[n],a=n.toLowerCase();this._fields[a]=o}}},entryType:function(){return this.entry?this.entry.EntryType:void 0},fields:function(){return this._fields}}),s=Backbone.Collection.extend(a.default.LoggableMixin).extend({_logNamespace:"citation",urlRoot:Galaxy.root+"api",partial:!0,model:l}),u=s.extend({url:function(){return this.urlRoot+"/histories/"+this.history_id+"/citations"}}),c=s.extend({url:function(){return this.urlRoot+"/tools/"+this.tool_id+"/citations"},partial:!1});t.default={Citation:l,HistoryCitationCollection:u,ToolCitationCollection:c}});
//# sourceMappingURL=../../../maps/mvc/citation/citation-model.js.map
