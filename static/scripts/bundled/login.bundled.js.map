{"version":3,"sources":["webpack:///login.bundled.js","webpack:///./galaxy/scripts/apps/login.js"],"names":["webpackJsonp","102","module","exports","__webpack_require__","Backbone","_","_interopRequireDefault","obj","__esModule","default","_jquery","_jquery2","_galaxy","_galaxy2","_localization","_localization2","_page","_page2","$","window","app","options","bootstrapped","Galaxy","GalaxyApp","debug","redirect","encodeURI","show_welcome_with_login","params","param","use_panels","location","href","root","LoginPage","View","extend","initialize","page","this","model","Model","title","setElement","_template","render","prop","welcome_url","Right","call"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,EAAUC,GAkB/C,QAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GCxBvF,GAAAG,GAAAP,EAAA,GDUIQ,EAAWL,EAAuBI,GCRtCE,EAAAT,EAAA,IDYIU,EAAWP,EAAuBM,GCXtCE,EAAAX,EAAA,GDeIY,EAAiBT,EAAuBQ,GCd5CE,EAAAb,EAAA,IDkBIc,EAASX,EAAuBU,GCrBhCE,WAKJC,QAAOC,IAAM,SAAaC,EAASC,GAC/BH,OAAOI,OAAS,GAAIV,GAAAJ,QAAUe,UAAUH,EAASC,GACjDC,OAAOE,MAAM,YACb,IAAIC,GAAWC,UAAUN,EAAQK,SAIjC,KAAKL,EAAQO,wBAAyB,CAClC,GAAIC,GAASlB,EAAAF,QAAOqB,OAAQC,WAAY,OAAQL,SAAUA,GAE1D,aADAP,OAAOa,SAASC,KAAUV,OAAOW,KAAjC,cAAmDL,GAIvD,GAAIM,GAAY/B,EAASgC,KAAKC,QAC1BC,WAAY,SAASC,GACjBC,KAAKD,KAAOA,EACZC,KAAKC,MAAQ,GAAIrC,GAASsC,OAAQC,OAAO,EAAA5B,EAAAN,SAAG,oBAC5C+B,KAAKI,WAAWJ,KAAKK,cAEzBC,OAAQ,WACJN,KAAKD,KAAKrB,EAAE,gBAAgB6B,KAAK,MAAO1B,EAAQ2B,cAEpDH,UAAW,WAIP,sBAHmBxB,EAAQa,KAAvB,cAAyChB,EAAEY,OAC3CJ,SAAUA,IAEd,2DAIRR,GAAE,WACEK,OAAOgB,KAAO,GAAItB,GAAAR,QAAK2B,KACnB/B,EAAEgC,OAAOhB,GACL4B,MAAOd,UD0BMe,KAAKhD,EAASC,EAAoB,GAAIA,EAAoB,OAIpF","file":"login.bundled.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Backbone, _) {\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _galaxy = __webpack_require__(24);\n\nvar _galaxy2 = _interopRequireDefault(_galaxy);\n\nvar _localization = __webpack_require__(4);\n\nvar _localization2 = _interopRequireDefault(_localization);\n\nvar _page = __webpack_require__(25);\n\nvar _page2 = _interopRequireDefault(_page);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $ = _jquery2.default;\n\n\nwindow.app = function app(options, bootstrapped) {\n    window.Galaxy = new _galaxy2.default.GalaxyApp(options, bootstrapped);\n    Galaxy.debug(\"login app\");\n    var redirect = encodeURI(options.redirect);\n\n    // TODO: remove iframe for user login (at least) and render login page from here\n    // then remove this redirect\n    if (!options.show_welcome_with_login) {\n        var params = _jquery2.default.param({ use_panels: \"True\", redirect: redirect });\n        window.location.href = Galaxy.root + \"user/login?\" + params;\n        return;\n    }\n\n    var LoginPage = Backbone.View.extend({\n        initialize: function initialize(page) {\n            this.page = page;\n            this.model = new Backbone.Model({ title: (0, _localization2.default)(\"Login required\") });\n            this.setElement(this._template());\n        },\n        render: function render() {\n            this.page.$(\"#galaxy_main\").prop(\"src\", options.welcome_url);\n        },\n        _template: function _template() {\n            var login_url = options.root + \"user/login?\" + $.param({\n                redirect: redirect\n            });\n            return \"<iframe src=\\\"\" + login_url + \"\\\" frameborder=\\\"0\\\" style=\\\"width: 100%; height: 100%;\\\"/>\";\n        }\n    });\n\n    $(function () {\n        Galaxy.page = new _page2.default.View(_.extend(options, {\n            Right: LoginPage\n        }));\n    });\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2), __webpack_require__(1)))\n\n/***/ })\n\n},[102]);\n\n\n// WEBPACK FOOTER //\n// login.bundled.js","import jQuery from \"jquery\";\nvar $ = jQuery;\nimport GalaxyApp from \"galaxy\";\nimport _l from \"utils/localization\";\nimport Page from \"layout/page\";\n\nwindow.app = function app(options, bootstrapped) {\n    window.Galaxy = new GalaxyApp.GalaxyApp(options, bootstrapped);\n    Galaxy.debug(\"login app\");\n    var redirect = encodeURI(options.redirect);\n\n    // TODO: remove iframe for user login (at least) and render login page from here\n    // then remove this redirect\n    if (!options.show_welcome_with_login) {\n        var params = jQuery.param({ use_panels: \"True\", redirect: redirect });\n        window.location.href = `${Galaxy.root}user/login?${params}`;\n        return;\n    }\n\n    var LoginPage = Backbone.View.extend({\n        initialize: function(page) {\n            this.page = page;\n            this.model = new Backbone.Model({ title: _l(\"Login required\") });\n            this.setElement(this._template());\n        },\n        render: function() {\n            this.page.$(\"#galaxy_main\").prop(\"src\", options.welcome_url);\n        },\n        _template: function() {\n            var login_url = `${options.root}user/login?${$.param({\n                redirect: redirect\n            })}`;\n            return `<iframe src=\"${login_url}\" frameborder=\"0\" style=\"width: 100%; height: 100%;\"/>`;\n        }\n    });\n\n    $(() => {\n        Galaxy.page = new Page.View(\n            _.extend(options, {\n                Right: LoginPage\n            })\n        );\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./galaxy/scripts/apps/login.js"],"sourceRoot":""}