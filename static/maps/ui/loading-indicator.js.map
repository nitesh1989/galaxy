{"version":3,"sources":["ui/loading-indicator.js"],"names":["$","$where","options","render","html","self","cover","$indicator","hide","css","$text","children","z-index","top","bottom","left","right","opacity","background-color","text-align","margin-top","margin","color","font-style","this","_jquery2","default","extend","show","msg","speed","callback","parent","insertBefore","message","fadeIn","find","length","remove"],"mappings":"0LAGIA,EAAAA,EAAAA,kBAEJ,SAA0BC,EAAQC,GAJjC,SAAAC,IAeO,IAAIC,GAbRJ,kCACJ,uCACA,oDACQK,4DACJ,SACAH,UAEQI,KAAAA,MAeAC,EAAaP,EAAEI,GAVvBI,OACIC,IAYQP,EAAQO,MAHZF,SAAaP,UAmCjB,OA3BIU,EAAQH,SAAWI,2BAEvBT,EAAIA,OACAK,EAAAA,KACIK,UAAA,EACAC,IAAAA,EAAKZ,IAAOQ,OACZK,OAAAA,EAAQb,IAAOQ,UACfM,KAAAA,EAAMd,IAAOQ,QACbO,MAAAA,EAAOf,IAAOQ,SACdQ,QAAAA,GACAC,mBAAA,QACAC,aAAA,WAEJT,EAAQH,SAAWI,2BAASF,KACxBW,aAAA,UAGJV,EAAQH,SAAWI,2BAASF,KACxBY,OAAAA,oBACAJ,QAAAA,OACAK,MAAAA,SAEJZ,SAAMC,8BAASF,KACXY,OAAAA,kBACAE,aAAA,WAGRhB,EAtDJ,IAAIF,EAAOmB,KA+Ff,OA7FItB,EAAUuB,EAAAC,QAAOC,QAETrB,OAAO,GAEXJ,OAmDJG,EAAAA,KAAKuB,SAALC,EAAYC,EAAAC,GAeZ1B,OAdIwB,EAAAA,GAAMA,aACNC,EAAAA,GAAQA,OAER7B,EAIA+B,SACA3B,KAAKE,sBACLF,SAEAA,EAAAE,WAAAJ,IAAA8B,aAAAhC,GACHI,EAbD6B,QAAAL,GAWIxB,EAAKE,WAAW4B,OAAOL,EAAOC,GAI7BG,GAAL7B,EAAK6B,QAAU,SAAAL,GAIfxB,EAAKG,WAAO4B,KAAA,KAACN,KAAOC,IAGZ1B,EAAAA,KAAAA,SAAAA,EAAKE,GAchB,OAbeF,EAAAA,GAAKE,OACLF,EAAAE,YAAIwB,EAAUxB,WAAA8B,OACVN,EAAAA,WAAAA,QAAAA,EAAAA,WACH1B,EAAAE,WAAA+B,SAJLP,GAMGA,MAINA,GACDA,IAGP1B,GAEDA","file":"../../scripts/ui/loading-indicator.js","sourcesContent":["import jQuery from \"jquery\";\n(\"use_strict\");\n\nvar $ = jQuery;\n//TODO: too specific to history panel\nfunction LoadingIndicator($where, options) {\n    var self = this;\n    // defaults\n    options = jQuery.extend(\n        {\n            cover: false\n        },\n        options || {}\n    );\n\n    function render() {\n        var html = [\n            '<div class=\"loading-indicator\">',\n            '<div class=\"loading-indicator-text\">',\n            '<span class=\"fa fa-spinner fa-spin fa-lg\"></span>',\n            '<span class=\"loading-indicator-message\">loading...</span>',\n            \"</div>\",\n            \"</div>\"\n        ].join(\"\\n\");\n\n        var $indicator = $(html)\n            .hide()\n            .css(\n                options.css || {\n                    position: \"fixed\"\n                }\n            );\n\n        var $text = $indicator.children(\".loading-indicator-text\");\n\n        if (options.cover) {\n            $indicator.css({\n                \"z-index\": 2,\n                top: $where.css(\"top\"),\n                bottom: $where.css(\"bottom\"),\n                left: $where.css(\"left\"),\n                right: $where.css(\"right\"),\n                opacity: 0.5,\n                \"background-color\": \"white\",\n                \"text-align\": \"center\"\n            });\n            $text = $indicator.children(\".loading-indicator-text\").css({\n                \"margin-top\": \"20px\"\n            });\n        } else {\n            $text = $indicator.children(\".loading-indicator-text\").css({\n                margin: \"12px 0px 0px 10px\",\n                opacity: \"0.85\",\n                color: \"grey\"\n            });\n            $text.children(\".loading-indicator-message\").css({\n                margin: \"0px 8px 0px 0px\",\n                \"font-style\": \"italic\"\n            });\n        }\n        return $indicator;\n    }\n\n    self.show = (msg, speed, callback) => {\n        msg = msg || \"loading...\";\n        speed = speed || \"fast\";\n        // remove previous\n        $where\n            .parent()\n            .find(\".loading-indicator\")\n            .remove();\n        // since position is fixed - we insert as sibling\n        self.$indicator = render().insertBefore($where);\n        self.message(msg);\n        self.$indicator.fadeIn(speed, callback);\n        return self;\n    };\n\n    self.message = msg => {\n        self.$indicator.find(\"i\").text(msg);\n    };\n\n    self.hide = (speed, callback) => {\n        speed = speed || \"fast\";\n        if (self.$indicator && self.$indicator.length) {\n            self.$indicator.fadeOut(speed, () => {\n                self.$indicator.remove();\n                if (callback) {\n                    callback();\n                }\n            });\n        } else {\n            if (callback) {\n                callback();\n            }\n        }\n        return self;\n    };\n    return self;\n}\n\n//============================================================================\nexport default LoadingIndicator;\n"]}