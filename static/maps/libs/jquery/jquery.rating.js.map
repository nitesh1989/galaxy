{"version":3,"sources":["libs/jquery/jquery.rating.js"],"names":["window","jQuery","$","support","opacity","style","document","execCommand","e","fn","rating","options","this","length","arguments","args","apply","makeArray","slice","extend","calls","not","addClass","each","control","input","name","replace","eid","form","body","raters","context","data","count","call","rater","meta","stars","inputs","serial","before","attr","hasClass","readOnly","required","append","cancel","cancelValue","on","removeClass","star","half","title","value","stw","width","spi","split","find","css","spw","starWidth","Math","floor","margin-left","checked","nodeName","current","hide","focus","blur","val","tagName","fill","prevAll","addBack","filter","drain","draw","siblings","starson","select","wantCallBack","undefined","lastipt","prop","trigger","disable","toggle","type","selfTriggered","callback","enable","removeAttr"],"mappings":"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","file":"../../../scripts/libs/jquery/jquery.rating.js","sourcesContent":["/*\r\n ### jQuery Star Rating Plugin v4.11 - 2013-03-14 ###\r\n * Home: http://www.fyneworks.com/jquery/star-rating/\r\n * Code: http://code.google.com/p/jquery-star-rating-plugin/\r\n *\r\n\t* Licensed under http://en.wikipedia.org/wiki/MIT_License\r\n ###\r\n*/\r\n\r\n/*# AVOID COLLISIONS #*/\r\n;if(window.jQuery) (function($){\r\n/*# AVOID COLLISIONS #*/\r\n\t\r\n\t// IE6 Background Image Fix\r\n\tif ((!$.support.opacity && !$.support.style)) try { document.execCommand(\"BackgroundImageCache\", false, true)} catch(e) { };\r\n\t// Thanks to http://www.visualjquery.com/rating/rating_redux.html\r\n\t\r\n\t// plugin initialization\r\n\t$.fn.rating = function(options){\r\n\t\tif(this.length==0) return this; // quick fail\r\n\t\t\r\n\t\t// Handle API methods\r\n\t\tif(typeof arguments[0]=='string'){\r\n\t\t\t// Perform API methods on individual elements\r\n\t\t\tif(this.length>1){\r\n\t\t\t\tvar args = arguments;\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\t$.fn.rating.apply($(this), args);\r\n    });\r\n\t\t\t};\r\n\t\t\t// Invoke API method handler\r\n\t\t\t$.fn.rating[arguments[0]].apply(this, $.makeArray(arguments).slice(1) || []);\r\n\t\t\t// Quick exit...\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t\r\n\t\t// Initialize options for this call\r\n\t\tvar options = $.extend(\r\n\t\t\t{}/* new object */,\r\n\t\t\t$.fn.rating.options/* default options */,\r\n\t\t\toptions || {} /* just-in-time options */\r\n\t\t);\r\n\t\t\r\n\t\t// Allow multiple controls with the same name by making each call unique\r\n\t\t$.fn.rating.calls++;\r\n\t\t\r\n\t\t// loop through each matched element\r\n\t\tthis\r\n\t\t .not('.star-rating-applied')\r\n\t\t\t.addClass('star-rating-applied')\r\n\t\t.each(function(){\r\n\t\t\t\r\n\t\t\t// Load control parameters / find context / etc\r\n\t\t\tvar control, input = $(this);\r\n\t\t\tvar eid = (this.name || 'unnamed-rating').replace(/\\[|\\]/g, '_').replace(/^\\_+|\\_+$/g,'');\r\n\t\t\tvar context = $(this.form || document.body);\r\n\t\t\t\r\n\t\t\t// FIX: http://code.google.com/p/jquery-star-rating-plugin/issues/detail?id=23\r\n\t\t\tvar raters = context.data('rating');\r\n\t\t\tif(!raters || raters.call!=$.fn.rating.calls) raters = { count:0, call:$.fn.rating.calls };\r\n\t\t\tvar rater = raters[eid] || context.data('rating'+eid);\r\n\t\t\t\r\n\t\t\t// if rater is available, verify that the control still exists\r\n\t\t\tif(rater) control = rater.data('rating');\r\n\t\t\t\r\n\t\t\tif(rater && control)//{// save a byte!\r\n\t\t\t\t// add star to control if rater is available and the same control still exists\r\n\t\t\t\tcontrol.count++;\r\n\t\t\t\t\r\n\t\t\t//}// save a byte!\r\n\t\t\telse{\r\n\t\t\t\t// create new control if first star or control element was removed/replaced\r\n\t\t\t\t\r\n\t\t\t\t// Initialize options for this rater\r\n\t\t\t\tcontrol = $.extend(\r\n\t\t\t\t\t{}/* new object */,\r\n\t\t\t\t\toptions || {} /* current call options */,\r\n\t\t\t\t\t($.metadata? input.metadata(): ($.meta?input.data():null)) || {}, /* metadata options */\r\n\t\t\t\t\t{ count:0, stars: [], inputs: [] }\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\t// increment number of rating controls\r\n\t\t\t\tcontrol.serial = raters.count++;\r\n\t\t\t\t\r\n\t\t\t\t// create rating element\r\n\t\t\t\trater = $('<span class=\"star-rating-control\"/>');\r\n\t\t\t\tinput.before(rater);\r\n\t\t\t\t\r\n\t\t\t\t// Mark element for initialization (once all stars are ready)\r\n\t\t\t\trater.addClass('rating-to-be-drawn');\r\n\t\t\t\t\r\n\t\t\t\t// Accept readOnly setting from 'disabled' property\r\n\t\t\t\tif(input.attr('disabled') || input.hasClass('disabled')) control.readOnly = true;\r\n\t\t\t\t\r\n\t\t\t\t// Accept required setting from class property (class='required')\r\n\t\t\t\tif(input.hasClass('required')) control.required = true;\r\n\t\t\t\t\r\n\t\t\t\t// Create 'cancel' button\r\n\t\t\t\trater.append(\r\n\t\t\t\t\tcontrol.cancel = $('<div class=\"rating-cancel\"><a title=\"' + control.cancel + '\">' + control.cancelValue + '</a></div>')\r\n\t\t\t\t\t.on('mouseover',function(){\r\n\t\t\t\t\t\t$(this).rating('drain');\r\n\t\t\t\t\t\t$(this).addClass('star-rating-hover');\r\n\t\t\t\t\t\t//$(this).rating('focus');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('mouseout',function(){\r\n\t\t\t\t\t\t$(this).rating('draw');\r\n\t\t\t\t\t\t$(this).removeClass('star-rating-hover');\r\n\t\t\t\t\t\t//$(this).rating('blur');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('click',function(){\r\n\t\t\t\t\t $(this).rating('select');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.data('rating', control)\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t}; // first element of group\r\n\t\t\t\r\n\t\t\t// insert rating star (thanks Jan Fanslau rev125 for blind support https://code.google.com/p/jquery-star-rating-plugin/issues/detail?id=125)\r\n\t\t\tvar star = $('<div role=\"text\" aria-label=\"'+ this.title +'\" class=\"star-rating rater-'+ control.serial +'\"><a title=\"' + (this.title || this.value) + '\">' + this.value + '</a></div>');\r\n\t\t\trater.append(star);\r\n\t\t\t\r\n\t\t\t// inherit attributes from input element\r\n\t\t\tif(this.id) star.attr('id', this.id);\r\n\t\t\tif(this.className) star.addClass(this.className);\r\n\t\t\t\r\n\t\t\t// Half-stars?\r\n\t\t\tif(control.half) control.split = 2;\r\n\t\t\t\r\n\t\t\t// Prepare division control\r\n\t\t\tif(typeof control.split=='number' && control.split>0){\r\n\t\t\t\tvar stw = ($.fn.width ? star.width() : 0) || control.starWidth;\r\n\t\t\t\tvar spi = (control.count % control.split), spw = Math.floor(stw/control.split);\r\n\t\t\t\tstar\r\n\t\t\t\t// restrict star's width and hide overflow (already in CSS)\r\n\t\t\t\t.width(spw)\r\n\t\t\t\t// move the star left by using a negative margin\r\n\t\t\t\t// this is work-around to IE's stupid box model (position:relative doesn't work)\r\n\t\t\t\t.find('a').css({ 'margin-left':'-'+ (spi*spw) +'px' })\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// readOnly?\r\n\t\t\tif(control.readOnly)//{ //save a byte!\r\n\t\t\t\t// Mark star as readOnly so user can customize display\r\n\t\t\t\tstar.addClass('star-rating-readonly');\r\n\t\t\t//}  //save a byte!\r\n\t\t\telse//{ //save a byte!\r\n\t\t\t // Enable hover css effects\r\n\t\t\t\tstar.addClass('star-rating-live')\r\n\t\t\t\t // Attach mouse events\r\n\t\t\t\t\t.on('mouseover',function(){\r\n\t\t\t\t\t\t$(this).rating('fill');\r\n\t\t\t\t\t\t$(this).rating('focus');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('mouseout',function(){\r\n\t\t\t\t\t\t$(this).rating('draw');\r\n\t\t\t\t\t\t$(this).rating('blur');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('click',function(){\r\n\t\t\t\t\t\t$(this).rating('select');\r\n\t\t\t\t\t})\r\n\t\t\t\t;\r\n\t\t\t//}; //save a byte!\r\n\t\t\t\r\n\t\t\t// set current selection\r\n\t\t\tif(this.checked)\tcontrol.current = star;\r\n\t\t\t\r\n\t\t\t// set current select for links\r\n\t\t\tif(this.nodeName==\"A\"){\r\n    if($(this).hasClass('selected'))\r\n     control.current = star;\r\n   };\r\n\t\t\t\r\n\t\t\t// hide input element\r\n\t\t\tinput.hide();\r\n\t\t\t\r\n\t\t\t// backward compatibility, form element to plugin\r\n\t\t\tinput.on('change.rating',function(event){\r\n\t\t\t\tif(event.selfTriggered) return false;\r\n    $(this).rating('select');\r\n   });\r\n\t\t\t\r\n\t\t\t// attach reference to star to input element and vice-versa\r\n\t\t\tstar.data('rating.input', input.data('rating.star', star));\r\n\t\t\t\r\n\t\t\t// store control information in form (or body when form not available)\r\n\t\t\tcontrol.stars[control.stars.length] = star[0];\r\n\t\t\tcontrol.inputs[control.inputs.length] = input[0];\r\n\t\t\tcontrol.rater = raters[eid] = rater;\r\n\t\t\tcontrol.context = context;\r\n\t\t\t\r\n\t\t\tinput.data('rating', control);\r\n\t\t\trater.data('rating', control);\r\n\t\t\tstar.data('rating', control);\r\n\t\t\tcontext.data('rating', raters);\r\n\t\t\tcontext.data('rating'+eid, rater); // required for ajax forms\r\n  }); // each element\r\n\t\t\r\n\t\t// Initialize ratings (first draw)\r\n\t\t$('.rating-to-be-drawn').rating('draw').removeClass('rating-to-be-drawn');\r\n\t\t\r\n\t\treturn this; // don't break the chain...\r\n\t};\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t/*\r\n\t\t### Core functionality and API ###\r\n\t*/\r\n\t$.extend($.fn.rating, {\r\n\t\t// Used to append a unique serial number to internal control ID\r\n\t\t// each time the plugin is invoked so same name controls can co-exist\r\n\t\tcalls: 0,\r\n\t\t\r\n\t\tfocus: function(){\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\tif(!control.focus) return this; // quick fail if not required\r\n\t\t\t// find data for event\r\n\t\t\tvar input = $(this).data('rating.input') || $( this.tagName=='INPUT' ? this : null );\r\n   // focus handler, as requested by focusdigital.co.uk\r\n\t\t\tif(control.focus) control.focus.apply(input[0], [input.val(), $('a', input.data('rating.star'))[0]]);\r\n\t\t}, // $.fn.rating.focus\r\n\t\t\r\n\t\tblur: function(){\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\tif(!control.blur) return this; // quick fail if not required\r\n\t\t\t// find data for event\r\n\t\t\tvar input = $(this).data('rating.input') || $( this.tagName=='INPUT' ? this : null );\r\n   // blur handler, as requested by focusdigital.co.uk\r\n\t\t\tif(control.blur) control.blur.apply(input[0], [input.val(), $('a', input.data('rating.star'))[0]]);\r\n\t\t}, // $.fn.rating.blur\r\n\t\t\r\n\t\tfill: function(){ // fill to the current mouse position.\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// Reset all stars and highlight them up to this element\r\n\t\t\tthis.rating('drain');\r\n\t\t\tthis.prevAll().addBack().filter('.rater-'+ control.serial).addClass('star-rating-hover');\r\n\t\t},// $.fn.rating.fill\r\n\t\t\r\n\t\tdrain: function() { // drain all the stars.\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// Reset all stars\r\n\t\t\tcontrol.rater.children().filter('.rater-'+ control.serial).removeClass('star-rating-on').removeClass('star-rating-hover');\r\n\t\t},// $.fn.rating.drain\r\n\t\t\r\n\t\tdraw: function(){ // set value and stars to reflect current selection\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// Clear all stars\r\n\t\t\tthis.rating('drain');\r\n\t\t\t// Set control value\r\n\t\t\tvar current = $( control.current );//? control.current.data('rating.input') : null );\r\n\t\t\tvar starson = current.length ? current.prevAll().addBack().filter('.rater-'+ control.serial) : null;\r\n\t\t\tif(starson)\tstarson.addClass('star-rating-on');\r\n\t\t\t// Show/hide 'cancel' button\r\n\t\t\tcontrol.cancel[control.readOnly || control.required?'hide':'show']();\r\n\t\t\t// Add/remove read-only classes to remove hand pointer\r\n\t\t\tthis.siblings()[control.readOnly?'addClass':'removeClass']('star-rating-readonly');\r\n\t\t},// $.fn.rating.draw\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tselect: function(value,wantCallBack){ // select a value\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// clear selection\r\n\t\t\tcontrol.current = null;\r\n\t\t\t// programmatically (based on user input)\r\n\t\t\tif(typeof value!='undefined' || this.length>1){\r\n\t\t\t // select by index (0 based)\r\n\t\t\t\tif(typeof value=='number')\r\n \t\t\t return $(control.stars[value]).rating('select',undefined,wantCallBack);\r\n\t\t\t\t// select by literal value (must be passed as a string\r\n\t\t\t\tif(typeof value=='string'){\r\n\t\t\t\t\t//return\r\n\t\t\t\t\t$.each(control.stars, function(){\r\n \t\t\t\t\t//console.log($(this).data('rating.input'), $(this).data('rating.input').val(), value, $(this).data('rating.input').val()==value?'BINGO!':'');\r\n\t\t\t\t\t\tif($(this).data('rating.input').val()==value) $(this).rating('select',undefined,wantCallBack);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// don't break the chain\r\n  \t\t\treturn this;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tcontrol.current = this[0].tagName=='INPUT' ?\r\n\t\t\t\t this.data('rating.star') :\r\n\t\t\t\t\t(this.is('.rater-'+ control.serial) ? this : null);\r\n\t\t\t};\r\n\t\t\t// Update rating control state\r\n\t\t\tthis.data('rating', control);\r\n\t\t\t// Update display\r\n\t\t\tthis.rating('draw');\r\n\t\t\t// find current input and its siblings\r\n\t\t\tvar current = $( control.current ? control.current.data('rating.input') : null );\r\n\t\t\tvar lastipt = $( control.inputs ).filter(':checked');\r\n\t\t\tvar deadipt = $( control.inputs ).not(current);\r\n\t\t\t// check and uncheck elements as required\r\n\t\t\tdeadipt.prop('checked',false);//.removeAttr('checked');\r\n\t\t\tcurrent.prop('checked',true);//.attr('checked','checked');\r\n\t\t\t// trigger change on current or last selected input\r\n\t\t\t$(current.length? current : lastipt ).trigger({ type:'change', selfTriggered:true });\r\n\t\t\t// click callback, as requested here: http://plugins.jquery.com/node/1655\r\n\t\t\tif((wantCallBack || wantCallBack == undefined) && control.callback) control.callback.apply(current[0], [current.val(), $('a', control.current)[0]]);// callback event\r\n\t\t\t// don't break the chain\r\n\t\t\treturn this;\r\n  },// $.fn.rating.select\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treadOnly: function(toggle, disable){ // make the control read-only (still submits value)\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// setread-only status\r\n\t\t\tcontrol.readOnly = toggle || toggle==undefined ? true : false;\r\n\t\t\t// enable/disable control value submission\r\n\t\t\tif(disable) $(control.inputs).attr(\"disabled\", \"disabled\");\r\n\t\t\telse     \t\t\t$(control.inputs).removeAttr(\"disabled\");\r\n\t\t\t// Update rating control state\r\n\t\t\tthis.data('rating', control);\r\n\t\t\t// Update display\r\n\t\t\tthis.rating('draw');\r\n\t\t},// $.fn.rating.readOnly\r\n\t\t\r\n\t\tdisable: function(){ // make read-only and never submit value\r\n\t\t\tthis.rating('readOnly', true, true);\r\n\t\t},// $.fn.rating.disable\r\n\t\t\r\n\t\tenable: function(){ // make read/write and submit value\r\n\t\t\tthis.rating('readOnly', false, false);\r\n\t\t}// $.fn.rating.select\r\n\t\t\r\n });\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t/*\r\n\t\t### Default Settings ###\r\n\t\teg.: You can override default control like this:\r\n\t\t$.fn.rating.options.cancel = 'Clear';\r\n\t*/\r\n\t$.fn.rating.options = { //$.extend($.fn.rating, { options: {\r\n\t\t\tcancel: 'Cancel Rating',   // advisory title for the 'cancel' link\r\n\t\t\tcancelValue: '',           // value to submit when user click the 'cancel' link\r\n\t\t\tsplit: 0,                  // split the star into how many parts?\r\n\t\t\t\r\n\t\t\t// Width of star image in case the plugin can't work it out. This can happen if\r\n\t\t\t// the jQuery.dimensions plugin is not available OR the image is hidden at installation\r\n\t\t\tstarWidth: 16//,\r\n\t\t\t\r\n\t\t\t//NB.: These don't need to be pre-defined (can be undefined/null) so let's save some code!\r\n\t\t\t//half:     false,         // just a shortcut to control.split = 2\r\n\t\t\t//required: false,         // disables the 'cancel' button so user can only select one of the specified values\r\n\t\t\t//readOnly: false,         // disable rating plugin interaction/ values cannot be.one('change',\t\t//focus:    function(){},  // executed when stars are focused\r\n\t\t\t//blur:     function(){},  // executed when stars are focused\r\n\t\t\t//callback: function(){},  // executed when a star is clicked\r\n }; //} });\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t\r\n\t  // auto-initialize plugin\r\n\t\t\t\t$(function(){\r\n\t\t\t\t $('input[type=radio].star').rating();\r\n\t\t\t\t});\r\n\t\r\n\t\r\n/*# AVOID COLLISIONS #*/\r\n})(jQuery);\r\n/*# AVOID COLLISIONS #*/\r\n"]}