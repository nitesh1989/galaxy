{"version":3,"sources":["mvc/ui/ui-select-ftp.js"],"names":["View","Backbone","extend","initialize","options","self","this","ftpfile_list","_uiList2","default","name","optional","multiple","onchange","value","_utils2","get","url","Galaxy","root","success","response","i","update","data","val","label"],"mappings":"4NAMIA,EAAOC,SAASD,KAAKE,QAErBC,WAAY,SAASC,GAEjB,IAAIC,EAAOC,KAGXA,KAAKC,aAAe,IAAIC,EAAAC,QAAKT,MACzBU,KAAM,OACNC,SAAUP,EAAQO,SAClBC,SAAUR,EAAQQ,SAb9BC,SAAA,WAegBT,EAAQS,UAAYT,EAAQS,SAASR,EAAKS,YAVtDX,KAAAA,WAAYG,KAAAC,aAASH,KAkBjBW,EAAAN,QAAMO,KAdNC,IAAAC,OAAAC,KAAA,mBACAC,QAAKb,SAALc,GACIX,IAAAA,KACAC,IAAAA,IAAAA,KAAUP,EACVQ,EAAAA,MACAC,MAAUQ,EAAAC,GAAA,KACNlB,MAAQS,EAAYT,GAAZS,OAkBRR,EAAKE,aAAagB,OAAOC,OAT7BP,MAAAA,SAAAA,GACAG,OAAAA,KAAAA,aAASN,MAAAW,iBAKGC,KAAAA","file":"../../../scripts/mvc/ui/ui-select-ftp.js","sourcesContent":["// dependencies\nimport Utils from \"utils/utils\";\nimport List from \"mvc/ui/ui-list\";\n/**\n * FTP file selector\n */\nvar View = Backbone.View.extend({\n    // initialize\n    initialize: function(options) {\n        // link this\n        var self = this;\n\n        // create ui-list view to keep track of selected ftp files\n        this.ftpfile_list = new List.View({\n            name: \"file\",\n            optional: options.optional,\n            multiple: options.multiple,\n            onchange: function() {\n                options.onchange && options.onchange(self.value());\n            }\n        });\n\n        // create elements\n        this.setElement(this.ftpfile_list.$el);\n\n        // initial fetch of ftps\n        Utils.get({\n            url: `${Galaxy.root}api/remote_files`,\n            success: function(response) {\n                var data = [];\n                for (var i in response) {\n                    data.push({\n                        value: response[i][\"path\"],\n                        label: response[i][\"path\"]\n                    });\n                }\n                self.ftpfile_list.update(data);\n            }\n        });\n    },\n\n    /** Return/Set currently selected ftp datasets */\n    value: function(val) {\n        return this.ftpfile_list.value(val);\n    }\n});\n\nexport default {\n    View: View\n};\n"]}