{"version":3,"sources":["mvc/upload/upload-settings.js"],"names":["Backbone","View","extend","options","class_check","class_uncheck","parameters","id","title","model","$","addClass","this","$el","append","initialize","$table","self","listenTo","render","setElement","_","each","trigger","parameter","$checkbox","get","empty","set","$cover"],"mappings":"qLAEeA,SAASC,KAAKC,QACzBC,SACIC,YAAa,oBACbC,cAAe,cACfC,aAEQC,GAAI,eACJC,MAAO,2BAGPD,GAAI,iBACJC,MAAO,wBARfH,WAAAA,SAAAA,GAGQE,KAAAA,MAAIJ,EAAAM,MACJD,KAAAA,WAAOE,EAAA,UAAAC,SAAA,oBAFXC,KADQC,IAKRC,OAAAJ,EAAA,UAAAC,SAAA,0BACIJ,KAAAA,IAAAA,OACAC,EAAAA,YAPIG,SAAA,0CAJgBG,OAAA,aAgBhCC,KAAAA,OAAYH,KAAAF,EAAA,0BACRE,KAAAI,OAAIC,KAAJP,EAAA,kCACAE,KAAAM,SAAAN,KAAaT,MAAQM,SAArBG,KAAAO,OAAAP,MACAA,KAAAH,MAAKW,QAAL,WAOAD,OAAA,WACA,IAAAF,EAAKD,KACLJ,KAAAI,OAAKE,QACLG,EAAAC,KAAAV,KAAKH,QAAMc,WAAX,SAAAC,GA7B4B,IAAAC,EAAAf,EAAA,UAqCnBC,SArCmB,UAqCAa,EAAUjB,GArCV,0BAgCxBI,SAAAM,EAAAR,MAAWiB,IAAAF,EAAAjB,KAAAU,EAAAd,QAAAC,aAAAa,EAAAd,QAAAE,eACXY,GAAAA,QAAJ,WACKD,EAAOW,MAAZD,IAAA,YAAAT,EAAAR,MAAAmB,IAAAJ,EAAAjB,IAAAU,EAAAR,MAAAiB,IAAAF,EAAAjB,OAEIU,EAAAD,OAAIS,OAIIR,EAAAA,SAJRH,OAAAJ,EAAA,SAAAI,OAAAW,IAMKT,OAAOF,EAAAA,SACNA,OACGA,EAASN,WAKzBI,KAAAiB,OAAAjB,KAAAH,MAAAiB,IAAA,YAAA,QAAA","file":"../../../scripts/mvc/upload/upload-settings.js","sourcesContent":["/** This renders the content of the settings popup, allowing users to specify flags i.e. for space-to-tab conversion **/\nimport Utils from \"utils/utils\";\nexport default Backbone.View.extend({\n    options: {\n        class_check: \"fa-check-square-o\",\n        class_uncheck: \"fa-square-o\",\n        parameters: [\n            {\n                id: \"space_to_tab\",\n                title: \"Convert spaces to tabs\"\n            },\n            {\n                id: \"to_posix_lines\",\n                title: \"Use POSIX standard\"\n            }\n        ]\n    },\n\n    initialize: function(options) {\n        var self = this;\n        this.model = options.model;\n        this.setElement($(\"<div/>\").addClass(\"upload-settings\"));\n        this.$el.append($(\"<div/>\").addClass(\"upload-settings-cover\"));\n        this.$el.append(\n            $(\"<table/>\")\n                .addClass(\"upload-settings-table ui-table-striped\")\n                .append(\"<tbody/>\")\n        );\n        this.$cover = this.$(\".upload-settings-cover\");\n        this.$table = this.$(\".upload-settings-table > tbody\");\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.model.trigger(\"change\");\n    },\n\n    render: function() {\n        var self = this;\n        this.$table.empty();\n        _.each(this.options.parameters, parameter => {\n            var $checkbox = $(\"<div/>\")\n                .addClass(`upload-${parameter.id} upload-icon-button fa`)\n                .addClass((self.model.get(parameter.id) && self.options.class_check) || self.options.class_uncheck)\n                .on(\"click\", () => {\n                    self.model.get(\"enabled\") && self.model.set(parameter.id, !self.model.get(parameter.id));\n                });\n            self.$table.append(\n                $(\"<tr/>\")\n                    .append($(\"<td/>\").append($checkbox))\n                    .append($(\"<td/>\").append(parameter.title))\n            );\n        });\n        this.$cover[(this.model.get(\"enabled\") && \"hide\") || \"show\"]();\n    }\n});\n"]}