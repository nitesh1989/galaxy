{"version":3,"sources":["mvc/toolshed/shed-list-view.js"],"names":["View","Backbone","extend","defaults","tool_sheds","url","name","initialize","options","this","_","model","_toolshedModel2","default","ShedsCollection","listenTo","render","toolshed_list_template","templateToolshedList","title","models","queue","queueLength","reDraw","empty","template","ShedListView","join"],"mappings":"sPAEIA,EAAOC,SAASD,KAAKE,QACrBC,UACIC,aAEQC,IAAK,kCACLC,KAAM,2BAKlBC,WAAY,SAASC,GAEjBC,KAAKD,QAAUE,EAAEP,SAASM,KAAKD,YAAeC,KAAKN,UACnDM,KAAKE,MAAQ,IAAIC,EAAAC,QAAeC,gBAChCL,KAAKM,SAASN,KAAKE,MAAO,OAAQF,KAAKO,QAd3ChB,KAAAA,MAAOC,SAIKI,GAAAA,UADJW,OAAA,SADQR,GADNC,KADkBD,QAAAE,EAAAP,SAAAM,KAAAD,YAAAA,EAAAC,KAAAN,UAsBxB,IAAIc,EAAyBR,KAAKS,qBAZtCX,KAAAA,IAAAA,KACIU,GACAE,MAAKX,+BACLJ,WAAaK,KAAIE,MAAAS,OACjBC,MAAKN,EAAAA,QAALO,kBAkBJC,OAAQ,SAASf,GAZjBQ,KAAAA,IAAQQ,QACJf,KAAAO,OAAKR,IAIGW,qBAAOT,EAAAe,UAEPJ,yEAHmB,6DAxBH,wJA0CpB,SAVRE,uDACI,yBACA,uBAlCwB,4CA+CpB,4BAVRL,OArCJ,wEAkDY,8GACA,SAaRQ,QAXQ,QACA,YACA,WACA,SACA,kCACA,UACFC,KAAK,kBAKXD,aAAc1B","file":"../../../scripts/mvc/toolshed/shed-list-view.js","sourcesContent":["import toolshed_model from \"mvc/toolshed/toolshed-model\";\nimport toolshed_util from \"mvc/toolshed/util\";\nvar View = Backbone.View.extend({\n    defaults: {\n        tool_sheds: [\n            {\n                url: \"https://toolshed.g2.bx.psu.edu/\",\n                name: \"Galaxy Main Tool Shed\"\n            }\n        ]\n    },\n\n    initialize: function(options) {\n        var self = this;\n        this.options = _.defaults(this.options || {}, this.defaults);\n        this.model = new toolshed_model.ShedsCollection();\n        this.listenTo(this.model, \"sync\", this.render);\n        this.model.fetch();\n    },\n\n    el: \"#center\",\n\n    render: function(options) {\n        this.options = _.defaults(this.options || {}, options, this.defaults);\n        var toolshed_list_template = this.templateToolshedList;\n        this.$el.html(\n            toolshed_list_template({\n                title: \"Configured Galaxy Tool Sheds\",\n                tool_sheds: this.model.models,\n                queue: toolshed_util.queueLength()\n            })\n        );\n    },\n\n    reDraw: function(options) {\n        this.$el.empty();\n        this.render(options);\n    },\n\n    templateToolshedList: _.template(\n        [\n            '<div class=\"unified-panel-header\" id=\"panel_header\" unselectable=\"on\">',\n            '<div class=\"unified-panel-header-inner\"><%= title %></div>',\n            '<div class=\"unified-panel-header-inner\" style=\"position: absolute; right: 5px; top: 0px;\"><a href=\"#/queue\">Repository Queue (<%= queue %>)</a></div>',\n            \"</div>\",\n            '<div class=\"unified-panel-body\" id=\"list_toolsheds\">',\n            '<div class=\"form-row\">',\n            '<table class=\"grid\">',\n            \"<% _.each(tool_sheds, function(shed) { %>\",\n            '<tr class=\"libraryTitle\">',\n            \"<td>\",\n            '<div style=\"float: left; margin-left: 1px;\" class=\"menubutton split\">',\n            '<a class=\"view-info shed-selector\" href=\"#/categories/s/<%= shed.get(\"url\") %>\"><%= shed.get(\"name\") %></a>',\n            \"</div>\",\n            \"</td>\",\n            \"</tr>\",\n            \"<% }); %>\",\n            \"</table>\",\n            \"</div>\",\n            '<div style=\"clear: both\"></div>',\n            \"</div>\"\n        ].join(\"\")\n    )\n});\n\nexport default {\n    ShedListView: View\n};\n"]}