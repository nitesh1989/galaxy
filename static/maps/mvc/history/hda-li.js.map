{"version":3,"sources":["mvc/history/hda-li.js"],"names":["_super","_datasetLi2","default","DatasetListItemView","HDAListItemView","extend","className","prototype","initialize","attributes","options","call","this","toString","model","templates","titleBarTemplate","warnings","_","hidden","_baseMvc2","wrapTemplate","titleBar","_localization2"],"mappings":"iQAKIA,EAASC,EAAAC,QAAWC,oBAMpBC,EAAkBJ,EAAOK,QAErBC,UAAcN,EAAOO,UAAUD,UAA/B,mBAEAE,WAAY,SAASC,EAAYC,GAC7BV,EAAOO,UAAUC,WAAWG,KAAKC,KAAMH,EAAYC,IAV/DG,SAAA,WAiBY,MAAA,oBADkBD,KAAKE,MAAL,GAAgBF,KAAKE,MAAU,cACjD,OARJN,EAAAA,UAAYO,UAAA,WACRf,IAAAA,EAAOO,EAAAA,QAAUC,cAGrB,6CACA,mCACAK,sBAEI,+CACH,gDAbT,SA8BY,QAbZ,0BACA,wFACAT,wCACQY,4DAEI,UACA,YAGA,UACA,UAgBR,WAIYC,EAAAC,EAAAb,UAAAL,EAAAO,UACAQ,UAAAE,UALqDE,OAAjEC,EAAAlB,QAAAmB,cAeIC,gCACAL,gDAFJ,EAAAM,EAAArB,SAAA,gCAtCJ,SAgCgB,WAEJ,aAIR,OAAOgB,EAAEb,UAAWL,EAAOO,UAAUQ,WACjCO,SAAUN,EACVC,SAAUA,IAvDE,cA6DhBb,gBAAiBA","file":"../../../scripts/mvc/history/hda-li.js","sourcesContent":["import DATASET_LI from \"mvc/dataset/dataset-li\";\nimport BASE_MVC from \"mvc/base-mvc\";\nimport _l from \"utils/localization\";\n\n//==============================================================================\nvar _super = DATASET_LI.DatasetListItemView;\n/** @class Read only view for HistoryDatasetAssociation.\n *      Since there are no controls on the HDAView to hide the dataset,\n *      the primary thing this class does (currently) is override templates\n *      to render the HID.\n */\nvar HDAListItemView = _super.extend(\n    /** @lends HDAListItemView.prototype */ {\n        className: `${_super.prototype.className} history-content`,\n\n        initialize: function(attributes, options) {\n            _super.prototype.initialize.call(this, attributes, options);\n        },\n\n        // ......................................................................... misc\n        /** String representation */\n        toString: function() {\n            var modelString = this.model ? `${this.model}` : \"(no model)\";\n            return `HDAListItemView(${modelString})`;\n        }\n    }\n);\n\n// ............................................................................ TEMPLATES\n/** underscore templates */\nHDAListItemView.prototype.templates = (() => {\n    var titleBarTemplate = BASE_MVC.wrapTemplate(\n        [\n            // adding the hid display to the title\n            '<div class=\"title-bar clear\" tabindex=\"0\">',\n            '<span class=\"state-icon\"></span>',\n            '<div class=\"title\">',\n            //TODO: remove whitespace and use margin-right\n            '<span class=\"hid\"><%- dataset.hid %></span> ',\n            '<span class=\"name\"><%- dataset.name %></span>',\n            \"</div>\",\n            \"</br>\",\n            '<span class=\"nametags\">',\n            \"<% _.each(_.sortBy(_.uniq(dataset.tags), function(x) { return x }), function(tag){ %>\",\n            '<% if (tag.indexOf(\"name:\") == 0){ %>',\n            '<span class=\"label label-info\"><%- tag.slice(5) %></span>',\n            \"<% } %>\",\n            \"<% }); %>\",\n            \"</span>\",\n            \"</div>\"\n        ],\n        \"dataset\"\n    );\n\n    var warnings = _.extend({}, _super.prototype.templates.warnings, {\n        hidden: BASE_MVC.wrapTemplate(\n            [\n                // add a warning when hidden\n                \"<% if( !dataset.visible ){ %>\",\n                '<div class=\"hidden-msg warningmessagesmall\">',\n                _l(\"This dataset has been hidden\"),\n                \"</div>\",\n                \"<% } %>\"\n            ],\n            \"dataset\"\n        )\n    });\n\n    return _.extend({}, _super.prototype.templates, {\n        titleBar: titleBarTemplate,\n        warnings: warnings\n    });\n})();\n\n//==============================================================================\nexport default {\n    HDAListItemView: HDAListItemView\n};\n"]}